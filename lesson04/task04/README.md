# Друзья

Имеется база данных – социальная сеть.

База данных содержит сущности:
`users` – пользователи;

`messages` – сообщения;

`friend_requests` – заявки на дружбу;

`communities` – сообщества;

`users_communities` – пользователи сообществ;

`media_types` – типы медиа;

`media` – медиа;

`likes` – лайки;

`profiles` – профили пользователя.

У сущности «заявки на дружбу» имеются следующие поля(атрибуты):

`initiator_user_id` – инициатор;

`target_user_id` – получатель;

`status` - статус;

`requested_at` - дата создания;

`updated_at` - дата последнего обновления.


У сущности «пользователи» имеются следующие поля(атрибуты):

`id` – идентификатор;

`firstname` – имя;

`lastname` - фамилия;

`email` - адрес электронной почты.

Друзья — это пользователи у которых имеется соответствующая запись (заявка) в сущности «заявки на дружбу» и в атрибуте `status` данной сущности указано значение `approved`.

Найдите количество друзей у каждого пользователя. Выведите для каждого пользователя идентификатор пользователя, имя, фамилию и количество друзей `cnt`. Сортировка выводимых записей в порядке возрастания идентификатора пользователя.



-- Вы работаете с `MySQL`

-- Введите свой код ниже
```sh
SELECT 
    u.id, 
    u.firstname, 
    u.lastname, 
    COUNT(f.status) AS cnt
FROM 
    users u
LEFT JOIN 
    friend_requests f 
ON 
    (u.id = f.initiator_user_id OR u.id = f.target_user_id) 
    AND f.status = 'approved'
GROUP BY 
    u.id
ORDER BY 
    u.id;
```